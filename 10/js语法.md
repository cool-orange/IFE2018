#### js 作用域和作用链
* 变量作用域
```
var a = 1;  // 声明全局变量即window的属性
function func() {
	var b = 2; // 声明局部变量
	return num;
}
console.log(func()); // res : 2 
```
* 函数作用域
```
funtion func() {
	console.log(num); // res: undefined
	var num = 1;
	console.log(num); // res : 1
}
func(); // 变量在函数体内声明前后均可见

注：函数内部声明的变量必须用var，否则相当于声明了一个全局变量
```
* 作用域链与闭包
	* 作用域链: 保证对执行环境有权访问的所有变量的函数的有序访问
	```
	执行环境: 即全局环境和某些函数的局部环境。
	js中一切都是对象，包括函数。对象中有个内部属性Scope,该属性包含了作用域对象的集合。这个集合就是作用域链
	决定哪些数据可以被访问。
	所以如果在一个局部函数对象中全局环境和包含其的局部环境的对象都会在该函数的作用链中，
	从而保证可以在其内部访问，但反之则，则不能访问。
	```
	* 闭包: 能够读取其他函数的内部变量的函数
		* 用处一: 可以读取函数内部的变量
		* 用处二： 让这些变量始终保持在内存中
		```
		function func(){
			var a = 1;
			changeNum = function  { //changeNum为全局变量的匿名函数
				a = 2;
			}
			function f2() {    
				alert(a);
			}
			return f2;
		}
		var res = f1();
		res(); // 输出1
		changeNum();
		res(); // 输出2
		// f2即为闭包函数相当于内部函数访问外部函数的介质
		// 同时a保存在内存中，没有被清除
		```
		* 缺陷：变量保存在内存中，内耗很大，性能降低; 尽可能销毁父函数不再使用的变量。

#### let 与 var的区别
* let: ES6中增加的，从而有块级作用域，在声明之前使用变量提升现象中不会被初始化从而报错。
* var: 定义变量不论第几行在提升现象中被初始化。
```
var a = 1;
function func() {
	alert(a);   // 报错let绑定的区域不受外部影响
	let a;
}
func();
变量提升现象:浏览器在运行代码之前进行预解析包括变量定义和函数声明。 
```